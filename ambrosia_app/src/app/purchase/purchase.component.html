<form [formGroup]="purchaseForm" (ngSubmit)="submit()" autocomplete="off">
  <h1 id="hero">Add A Purchase</h1>
  <header>
    <div class="header-column">
      <div class="header-group">
        <div class="header-group__wrapper">
          <label for="merchant_name">Merchant</label>
          <input type="text" name="merchant_name" formControlName="merchantName">
        </div>
        <div class="header-group__wrapper">
          <label for="purchase_date">Date</label>
          <input type="text" name="purchase_date" formControlName="purchaseDate">
        </div>
      </div>
    </div>
    <div class="header-column">
      <div class="header-group--horizontal">
        <section class="totals-column--justify_end">
          <span class="total-item total-item--justify-right">Subtotal:</span>
          <span class="total-item total-item--justify-right">Tax:</span>
          <span class="total-item total-item--justify-right">Other:</span>
          <span class="total-item total-item--justify-right">Total:</span>
        </section>
        <section class="totals-column--justify_start">
          <span class="total-item">$104.98</span>
          <span class="total-item">$7.45</span>
          <span class="total-item">$2.51</span>
          <span class="total-item">${{purchaseTotal}}</span>
        </section>
      </div>
    </div>
    <div class="header-column">
      <div class="header-group--align_right">
        <div class="header-group__wrapper">
          <input [disabled]="!purchaseForm.valid" [class.disabled]="!purchaseForm.valid" class="confirm_button"
            type="submit" value="Save">
          <input class="confirm_button" type="button" value="Add Item" (click)="addPurchaseItem()">
        </div>
      </div>
    </div>
  </header>
  <main class="item-table">
    <table>
      <thead class="item-table__head">
        <tr>
          <th></th>
          <th>ITEM</th>
          <th>PRICE</th>
          <th>BRAND</th>
          <th>CATEGORY</th>
          <th>UNIT</th>
          <th>UNIT QTY</th>
          <th>PURCHASED QTY</th>
        </tr>
      </thead>
      <tbody formArrayName="purchaseItems">
        <tr *ngFor="let item of purchaseItems.controls" class="item-table__row">
          <ng-container [formGroup]="item">
            <td>
              <label class="item-checkbox">
                <input type="checkbox" class="item-checkbox__input">
                <span class="item-checkbox__checkbox"></span>
                <span class="item-checkbox__checkmark"></span>
              </label>
            </td>
            <td>
              <input formControlName="name" class="item-table__input" type="text" name="item_input" />
            </td>
            <td>
              <input formControlName="price" class="item-table__input" type="text" name="item_price"
                pattern="^[0-9]*\.?(?<=.)[0-9]{0,2}$" />
            </td>
            <td>
              <input formControlName="brand" class="item-table__input" type="text" name="item_brand" />
            </td>
            <td>
              <input formControlName="category" class="item-table__input" type="text" name="item_category" />
            </td>
            <td>
              <input formControlName="unit" class="item-table__input" type="text" name="item_unit" />
            </td>
            <td>
              <input formControlName="unit_qty" class="item-table__input" type="text" name="item_unit_quantity" />
            </td>
            <td>
              <input formControlName="purchase_qty" class="item-table__input" type="text"
                name="item_purchased_quantity" />
            </td>
          </ng-container>
        </tr>
      </tbody>
    </table>
  </main>
</form>
